<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To Do List App</title>
    <link rel="stylesheet" href="style.css">

</head>
<body>
    <div class="main">
        <div class="topContent">
            <div class="title">
                <h1>To Do List</h1>
                <pre style="margin-top: -10px;">To do list app using Javascript</pre>
            </div>
            
        </div>
        <div class="box">
            <div class="inBox">
                <input type="text" id="inputDo" class="inputDo" name="toDo" placeholder="Isi disini..">
                <button type="button" onclick="addList()" class="addBtn" value="Tambah">Tambah</button>
            </div>
        </div>
            
        <div class="list">
            <table >
                <tbody id="todo">

                </tbody>
            </table>
        </div>
    </div>

    
<script>

    var doList = [
        'Coding',
        'Charging Switch',
        'Take The Trashcan'
        ];

    mobil = {type:'honda', color: 'red', };
    console.log(mobil.type);
    
    function showTodo(){
        const todo = document.getElementById("todo");
    
        todo.innerHTML = "";
    
        for(let i = 0; i < doList.length; i++){
        
            var btnDelete = "<a href='#' id='remove' onclick='removeList("+ i + ")'>Delete</a>";
            var btnCheck = "<input type='checkbox' name='check' id='check'>";

            const list = "<tr><td onclick='checked(this)'>" + doList[i] + " </td><td id='delete'>" + btnDelete + "</td></tr>";
    
            todo.innerHTML += list;
        
            console.log(todo.innerHTML);
            
        }

    }
    function checked(element) {
        element.classList.toggle('checked');
    }

//    function checked(id){
//        let lists = document.querySelector("tr");
//        console.log(id);
//
//        lists.addEventListener('click', function(e){
//            const tr = e.target.closest('tr');
//            if(tr){
//                e.target.classList.toggle('checked');
//            }
//        });
//    }
    

    function addList(id){
    const addDo = document.querySelector("input[name=toDo]");

    if (addDo.value === ''){
        alert('Kamu harus mengisi terlebih dulu');
    }else{

        var lastData = doList[doList.length - 1];
        console.log(lastData);

        if(addDo.value == lastData){
            alert('Input tidak boleh sama dengan sebelumnya');
            console.log(doList);
            
            console.log('gagal');
        }else{
            doList.push(addDo.value);
            showTodo();
            console.log(doList);
            console.log('sukses');
            console.log(addDo);
            document.getElementById('inputDo').value = "";
        }
    }
    }

    function removeList(id){
        
        doList.splice(id, 1);
        console.log(doList);
        showTodo();

    }
    
    showTodo();

</script> 

</body>
</html>